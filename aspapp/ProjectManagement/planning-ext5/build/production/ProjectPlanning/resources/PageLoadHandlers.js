stl.app.extractProjectDetailsFromURL=function(e){var c=/projectId=[0-9]*/i.exec(decodeURIComponent(escape(e)))[0].split("=")[1],b=/projectname=\w*[^?<>,;".|:^*#&]*/.exec(decodeURIComponent(e))[0].split("=")[1],a=/[?&]readonly($|=true)/i.test(e),d=parseInt(/prjType=\w*[^?<>,;".|:^*#&]*/.exec(decodeURIComponent(escape(e)))[0].split("=")[1]);stl.app.ProjectType=d;if(/checkoutStatus=\w*[^?<>,;".|:^*#&]*/.exec(e)){stl.app.ProjectCheckOutStatus=parseInt(/checkoutStatus=\w*[^?<>,;".|:^*#&]*/.exec(decodeURIComponent(escape(e)))[0].split("=")[1])}return{projectId:c,projectName:b,readonly:a,projectType:d}};stl.app.readInvokeloadTypeFromURL=function(){if(/[?&]createnew($|=true)/i.test(location.href)){InvokeCreateNewProject();stl.app.handleCheckInChekOutButtons(stl.app.ActionType.CREATENEW)}else{stl.app.ProjectDetailsFromURL=stl.app.extractProjectDetailsFromURL(location.href);var a=stl.app.ProjectDetailsFromURL;if(/[?&]checkout($|=true)/i.test(location.href)){InvokeCheckOut(a.projectId,a.projectName,a.projectType,0,true,true)}else{if(/[?&]editcheckout($|=true)/i.test(location.href)){var b=(a.projectType===PROJECT_STATUS_IN_PLAN_INTEGER)?stl.app.ActionType.INPLANEDITCHECKOUT:stl.app.ActionType.EDITCHECKEDOUT;InvokeEditCheckOut(a.projectId,a.projectName,false,b,false,true)}else{if(/[?&]viewproject($|=true)/i.test(location.href)){InvokeViewProject(a.projectId,a.projectName,a.projectType,stl.app.ActionType.VIEW,true,true)}}}}};function InvokeCheckIn(){if(stl.app.ProjectDataFromServer.isIDCCed){CheckInProject()}else{PPI_Notifier.error(ERR_MSG_IDCC_NOT_DONE,FAILURE_MESSAGE)}}function InvokeCheckOut(b,a,d,f,c,e){if(d===PROJECT_STATUS_IN_PLAN_INTEGER){InvokeEditCheckOut(b,a,true,stl.app.ActionType.INPLANCHECKEDOUT,false,c,e)}else{if(f===1){InvokeEditCheckOut(b,a,true,stl.app.ActionType.CHECKEDOUT,false,c,e)}else{CheckOutProject(b)}}}function InvokeUndoCheckOut(b,a){UndoCheckOut(b,a)}function InvokeViewProject(b,a,e,c,d,f){stl.app.IsViewproject=true;if(e===PROJECT_STATUS_IN_PLAN_INTEGER){InvokeEditCheckOut(b,a,false,c,true,d,f)}else{ViewProject(b)}}function InvokeEditCheckOut(d,c,b,e,a,f,g){LoadJsonBlobData(d,c,b,function(h){var i=showErrorsAndWarnings(h,LOAD_JSON_DATA);if(i){$(document).trigger("projectjsonchange",[h,a,f,g]);RefreshModifyProjectWindow();stl.app.handleCheckInChekOutButtons(e);stl.app.ProjectCheckOutStatus=1}})}function InvokeCreateNewProject(){Ext.create("ProjectPlanning.view.newProject.NewProject",{}).show()}var onProjectLoadFailed=function(){hideLoadingIcon();PPI_Notifier.error(ERROR_OCCURRED_PROJECT_LOAD)};