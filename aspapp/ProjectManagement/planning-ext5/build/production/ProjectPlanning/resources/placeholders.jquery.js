/*!
 * The MIT License
 *
 * Copyright (c) 2012 James Allardice
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 */
(function(c){var n=document.createElement("input");var M=n.placeholder!==void 0;c.Placeholders={nativeSupport:M,disable:M?X:D,enable:M?X:f};if(M){return}var Q=["text","search","url","tel","email","password","number","textarea"];var v=[27,33,34,35,36,37,38,39,40,8,46];var u="#ccc";var L="placeholdersjs";var A=new RegExp("(?:^|\\s)"+L+"(?!\\S)");var E="data-placeholder-value";var S="data-placeholder-active";var l="data-placeholder-type";var C="data-placeholder-submit";var q="data-placeholder-bound";var h="data-placeholder-focus";var T="data-placeholder-live";var m="data-placeholder-maxlength";var K=100;var t=document.getElementsByTagName("head")[0];var F=document.documentElement;var z=c.Placeholders;var j;var B=document.getElementsByTagName("input");var p=document.getElementsByTagName("textarea");var G=F.getAttribute(h)==="false";var a=F.getAttribute(T)!=="false";var o=document.createElement("style");o.type="text/css";var g=document.createTextNode("."+L+" {color:"+u+";}");if(o.styleSheet){o.styleSheet.cssText=g.nodeValue}else{o.appendChild(g)}t.insertBefore(o,t.firstChild);var H;var U;for(var V=0,w=B.length+p.length;V<w;V++){U=V<B.length?B[V]:p[V-B.length];H=U.attributes.placeholder;if(H){H=H.nodeValue;if(H&&W(Q,U.type)){x(U)}}}var J=setInterval(function(){for(var aa=0,Z=B.length+p.length;aa<Z;aa++){U=aa<B.length?B[aa]:p[aa-B.length];H=U.attributes.placeholder;if(H){H=H.nodeValue;if(H&&W(Q,U.type)){if(!U.getAttribute(q)){x(U)}if(H!==U.getAttribute(E)||(U.type==="password"&&!U.getAttribute(l))){if(U.type==="password"&&!U.getAttribute(l)&&k(U,"text")){U.setAttribute(l,"password")}if(U.value===U.getAttribute(E)){U.value=H}U.setAttribute(E,H)}}}else{if(U.getAttribute(S)){s(U);U.removeAttribute(E)}}}if(!a){clearInterval(J)}},K);Y(c,"beforeunload",function(){z.disable()});function X(){}function O(){try{return document.activeElement}catch(i){}}function W(aa,ac){for(var ab=0,Z=aa.length;ab<Z;ab++){if(aa[ab]===ac){return true}}return false}function Y(aa,Z,i){if(aa.addEventListener){return aa.addEventListener(Z,i,false)}if(aa.attachEvent){return aa.attachEvent("on"+Z,i)}}function N(aa,Z){var i;if(aa.createTextRange){i=aa.createTextRange();i.move("character",Z);i.select()}else{if(aa.selectionStart){aa.focus();aa.setSelectionRange(Z,Z)}}}function k(Z,i){try{Z.type=i;return true}catch(aa){return false}}function I(Z,ah){if(Z&&Z.getAttribute(E)){ah(Z)}else{var ab=Z?Z.getElementsByTagName("input"):B;var ac=Z?Z.getElementsByTagName("textarea"):p;var ag=ab?ab.length:0;var af=ac?ac.length:0;var ae=ag+af;var aa;for(var ad=0;ad<ae;ad++){aa=ad<ag?ab[ad]:ac[ad-ag];ah(aa)}}}function D(i){I(i,s)}function f(i){I(i,R)}function s(ac,ab){var Z=!!ab&&ac.value!==ab;var ad=ac.value===ac.getAttribute(E);if((Z||ad)&&ac.getAttribute(S)==="true"){ac.removeAttribute(S);ac.value=ac.value.replace(ac.getAttribute(E),"");ac.className=ac.className.replace(A,"");var i=ac.getAttribute(m);if(parseInt(i,10)>=0){ac.setAttribute("maxLength",i);ac.removeAttribute(m)}var aa=ac.getAttribute(l);if(aa){ac.type=aa}return true}return false}function R(aa){var ab=aa.getAttribute(E);if(aa.value===""&&ab){aa.setAttribute(S,"true");aa.value=ab;aa.className+=" "+L;var i=aa.getAttribute(m);if(!i){aa.setAttribute(m,aa.maxLength);aa.removeAttribute("maxLength")}var Z=aa.getAttribute(l);if(Z){aa.type="text"}else{if(aa.type==="password"&&k(aa,"text")){aa.setAttribute(l,"password")}}return true}return false}function b(i){return function(){if(G&&i.value===i.getAttribute(E)&&i.getAttribute(S)==="true"){N(i,0)}else{s(i)}}}function y(i){return function(){R(i)}}function r(i){return function(){D(i)}}function e(i){return function(Z){j=i.value;if(i.getAttribute(S)==="true"&&j===i.getAttribute(E)&&W(v,Z.keyCode)){if(Z.preventDefault){Z.preventDefault()}return false}}}function P(i){return function(){s(i,j);if(i.value===""){i.blur();N(i,0)}}}function d(i){return function(){if(i===O()&&i.value===i.getAttribute(E)&&i.getAttribute(S)==="true"){N(i,0)}}}function x(Z){var i=Z.form;if(i&&typeof i==="string"){i=document.getElementById(i);if(!i.getAttribute(C)){Y(i,"submit",r(i));i.setAttribute(C,"true")}}Y(Z,"focus",b(Z));Y(Z,"blur",y(Z));if(G){Y(Z,"keydown",e(Z));Y(Z,"keyup",P(Z));Y(Z,"click",d(Z))}Z.setAttribute(q,"true");Z.setAttribute(E,H);if(G||Z!==O()){R(Z)}}}(this));(function(c,b){var d=c.fn.val;var a=c.fn.prop;if(!b.Placeholders.nativeSupport){c.fn.val=function(g){var e=d.apply(this,arguments);var f=this.eq(0).data("placeholder-value");if(g===undefined&&this.eq(0).data("placeholder-active")&&e===f){return""}return e};c.fn.prop=function(e,f){if(f===undefined&&this.eq(0).data("placeholder-active")&&e==="value"){return""}return a.apply(this,arguments)}}}(jQuery,this));