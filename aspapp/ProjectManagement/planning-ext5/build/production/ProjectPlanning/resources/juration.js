(function(){var m=8,d=m*3600,j=5;var f={minutes:{patterns:["minute","min","m(?!s)"],value:60,formats:{chrono:":",micro:"m","short":"min","long":"minute"}},hours:{patterns:["hour","hr","h"],value:3600,valueToCompare:60,formats:{chrono:":",micro:"h","short":"hr","long":"hour"}},days:{patterns:["day","dy","d"],value:d,valueToCompare:m,formats:{chrono:":",micro:"d","short":"day","long":"day"}}};var h=function(n){f.days.value=n*3600;f.days.valueToCompare=n};var i=function(t,v){if(!c(t)){throw"juration.stringify(): Unable to stringify a non-numeric value"}if((typeof v==="object"&&v.format!==undefined)&&(v.format!=="micro"&&v.format!=="short"&&v.format!=="long"&&v.format!=="chrono")){throw"juration.stringify(): format cannot be '"+v.format+"', and must be either 'micro', 'short', or 'long'"}var p={format:"long"};var n=b(p,v);var s=["days","hours","minutes"],u=[];for(var q=0,r=s.length;q<r;q++){if(q===0){u[q]=Math.floor(t/f[s[q]].value)}else{u[q]=Math.floor((t%f[s[q-1]].value)/f[s[q]].value)}if(n.format==="micro"||n.format==="chrono"){u[q]+=f[s[q]].formats[n.format]}else{u[q]+=" "+l(u[q],f[s[q]].formats[n.format])}}var o="";for(q=0,r=u.length;q<r;q++){if(u[q].charAt(0)!=="0"&&n.format!="chrono"){o+=u[q]+" "}else{if(n.format=="chrono"){o+=e(u[q]+"","0",q==u.length-1?2:3)}}}return o.replace(/\s+$/,"").replace(/^(00:)+/g,"").replace(/^0/,"")};var g=function(q){if(c(q)){q+=" days"}for(var t in f){for(var p=0,n=f[t].patterns.length;p<n;p++){var s=new RegExp("((?:\\d+\\.\\d+)|\\d+)\\s?("+f[t].patterns[p]+"s?(?=\\s|\\d|\\b))","gi");q=q.replace(s,function(y,x,w){return" "+(x*f[t].value).toString()+" "})}}var r=0,v=q.replace(/(?!\.)\W+/g," ").replace(/^\s+|\s+$|(?:and|plus|with)\s?/g,"").split(" ");for(var o=0,u=v.length;o<u;o++){if(v[o]&&isFinite(v[o])){r+=parseInt(v[o])}else{if(!v[o]){throw"juration.parse(): Unable to parse: a falsey value"}else{throw"juration.parse(): Unable to parse: "+v[o].replace(/^\d+/g,"")}}}return r};var e=function(q,t,r){if(!q||!t||q.length>=r){return q}var o=(r-q.length)/t.length;for(var p=0;p<o;p++){q=t+q}return q};var l=function(o,n){return o==1?n:n+"s"};var c=function(o){return !isNaN(parseFloat(o))&&isFinite(o)};var b=function(p,n){for(var o in n){if(n[o]!==undefined){p[o]=n[o]}}return p};var k=function(u,w){if(!c(u)){throw"juration.stringify(): Unable to stringify a non-numeric value"}if((typeof w==="object"&&w.format!==undefined)&&(w.format!=="micro"&&w.format!=="short"&&w.format!=="long"&&w.format!=="chrono")){throw"juration.stringify(): format cannot be '"+w.format+"', and must be either 'micro', 'short', or 'long'"}var p={format:"long"};var n=b(p,w);var s=["minutes","hours","days"],v=0,t=2;for(var q=0,r=s.length;q<r;q++){if(q==0){if(u>=f[s[q]].value){v=Math.abs(u/f[s[q]].value);t=q}}else{if(v>=f[s[q]].valueToCompare){v=Math.abs(v/f[s[q]].valueToCompare);t=q}else{break}}}if(v%1!=0){v=v.toFixed(1)}if(v%1==0){v=parseInt(v)}if(n.format==="micro"||n.format==="chrono"){v+=f[s[t]].formats[n.format]}else{v+=" "+l(v,f[s[t]].formats[n.format])}var o="";if(v.charAt(0)!=="0"&&n.format!="chrono"){o+=v+" "}else{if(n.format=="chrono"){o+=e(v+"","0",q==values.length-1?2:3)}}return o.replace(/\s+$/,"").replace(/^(00:)+/g,"").replace(/^0/,"")};var a={parse:g,stringify:i,humanize:i,stringifyToDays:k,setHoursPerDay:h};if(typeof module==="object"&&module&&typeof module.exports==="object"){module.exports=a}else{window.juration=a;if(typeof define==="function"&&define.amd){define("juration",[],function(){return a})}}})();